clear all; close all; clc;

fileList = dir('data/Sentinel-2_Timeseries/*.tif');

s = size(fileList);

ndvis = zeros(s,2);


figure, 
for i=1:s(1)
   
    img_path = strcat('data/Sentinel-2_Timeseries/', fileList(i).name);
    [data, ~] = read_data(img_path, 'std');
    [normalized_data, ~, ~, ~, ~] = normalize_data(data, 'min-max', 1, 0);
    
    cropped_data = crop(normalized_data, [100, 150, 100, 150]);
    
    ndvi = 2*calculate_NDVI(cropped_data, [8 4]) -0.5;
    
    ndvi_matrix(i, 1) = max(ndvi(:));
  
end




